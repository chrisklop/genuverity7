<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <title>Epstein Files Hub | GenuVerity</title>
    <meta name="description"
        content="Verified analysis of 3.5 million DOJ Epstein documents. Credibility-rated sources, misinformation alerts, and preserved archive of all releases.">
    <meta property="og:title" content="Epstein Files Hub | GenuVerity">
    <meta property="og:description" content="Verified analysis of 3.5 million DOJ Epstein documents. Credibility-rated sources and misinformation alerts.">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#0a0a12">
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    <link rel="icon" type="image/png" href="../favicon.png">
    <link rel="apple-touch-icon" href="../favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="../js/epstein-hub-data.js?v=1738400000"></script>
    <script src="../js/shared-components.js" defer></script>
    <link rel="stylesheet" href="../css/shared-components.css?v=1738400000">
    <link rel="stylesheet" href="../css/epstein-hub.css?v=1738400000">
    <!-- Vercel Analytics -->
    <script defer src="/_vercel/insights/script.js"></script>
</head>

<body>
    <!-- Background Effects -->
    <div class="bg-grid"></div>
    <div class="bg-glow"></div>

    <!-- Shared Navbar -->
    <div id="navbar-placeholder" data-page-type="epstein-hub"></div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-badge">
            <i data-lucide="file-search" style="width:16px;height:16px;"></i>
            Verified Document Analysis
        </div>
        <h1>Epstein Files Hub</h1>
        <p>The only source that rates every document by credibility, flags known misinformation,
           and preserves all files even when removed from government servers.</p>

        <div class="hero-stats">
            <div class="hero-stat">
                <div class="hero-stat-value" id="docCount">--</div>
                <div class="hero-stat-label">Documents</div>
            </div>
            <div class="hero-stat">
                <div class="hero-stat-value" id="entityCount">--</div>
                <div class="hero-stat-label">Named Entities</div>
            </div>
            <div class="hero-stat">
                <div class="hero-stat-value" id="factcheckCount">--</div>
                <div class="hero-stat-label">Fact-Checks</div>
            </div>
        </div>

        <!-- Hero Search -->
        <div class="hero-search">
            <div class="search-input-wrapper">
                <i data-lucide="search" style="width:20px;height:20px;color:var(--hub-accent);"></i>
                <input type="text" id="heroSearchInput" placeholder="Search documents, entities, or topics..." autocomplete="off">
                <button class="search-btn" onclick="performSearch()">Search</button>
            </div>
        </div>
    </section>

    <!-- Features Grid -->
    <section class="features-section">
        <div class="features-grid" id="featuresGrid">
            <!-- Generated by JS -->
        </div>
    </section>

    <!-- Misinformation Alert Banner (if active) -->
    <section class="features-section" id="misinfoSection" style="display:none;">
        <div class="misinfo-alert">
            <div class="misinfo-alert-icon">
                <i data-lucide="alert-triangle" style="width:20px;height:20px;"></i>
            </div>
            <div class="misinfo-alert-content">
                <h4>Active Misinformation Alert</h4>
                <p id="misinfoText">Multiple fabricated "Epstein lists" are circulating. Always verify against original court documents.</p>
                <a href="/localreports/epstein-166-name-list-fake.html" class="misinfo-alert-link">
                    Read our fact-check <i data-lucide="arrow-right" style="width:14px;height:14px;display:inline;vertical-align:middle;"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Top Revelations -->
    <section class="revelations-section">
        <div class="section-header">
            <h2 class="section-title">
                <i data-lucide="flame" style="width:24px;height:24px;"></i>
                Top Revelations
            </h2>
            <a href="search.html" class="view-all-link">
                View All Documents <i data-lucide="arrow-right" style="width:16px;height:16px;"></i>
            </a>
        </div>
        <div class="revelations-grid" id="revelationsGrid">
            <!-- Generated by JS -->
        </div>
    </section>

    <!-- Related Fact-Checks -->
    <section class="related-section">
        <div class="section-header">
            <h2 class="section-title">
                <i data-lucide="file-check" style="width:24px;height:24px;"></i>
                Epstein Fact-Checks
            </h2>
            <a href="/reports.html" class="view-all-link">
                All Reports <i data-lucide="arrow-right" style="width:16px;height:16px;"></i>
            </a>
        </div>
        <div class="related-grid" id="factchecksGrid">
            <!-- Generated by JS -->
        </div>
    </section>

    <!-- Shared Footer -->
    <div id="footer-placeholder"></div>

    <script>
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            updateHeroStats();
            renderFeatures();
            renderRevelations();
            renderFactchecks();
            showMisinfoAlert();
        });

        // Animate counter
        function animateValue(element, start, end, duration, suffix = '') {
            if (!element) return;
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const easeOut = 1 - Math.pow(1 - progress, 3);
                const value = Math.floor(easeOut * (end - start) + start);

                // Format large numbers
                if (value >= 1000000) {
                    element.textContent = (value / 1000000).toFixed(1) + 'M' + suffix;
                } else if (value >= 1000) {
                    element.textContent = (value / 1000).toFixed(0) + 'K' + suffix;
                } else {
                    element.textContent = value.toLocaleString() + suffix;
                }

                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        // Update hero stats
        function updateHeroStats() {
            const stats = window.EPSTEIN_HUB_STATS || {};
            animateValue(document.getElementById('docCount'), 0, stats.totalDocuments || 3500000, 1500, '');
            animateValue(document.getElementById('entityCount'), 0, stats.verifiedEntities || 847, 1200, '');
            animateValue(document.getElementById('factcheckCount'), 0, stats.factChecks || 11, 1000, '');
        }

        // Render features
        function renderFeatures() {
            const grid = document.getElementById('featuresGrid');
            const features = window.HUB_FEATURES || [];

            features.forEach(feature => {
                const card = document.createElement('div');
                card.className = 'feature-card';
                card.innerHTML = `
                    <div class="feature-icon">
                        <i data-lucide="${feature.icon}" style="width:24px;height:24px;"></i>
                    </div>
                    <h3>${feature.title}</h3>
                    <p>${feature.description}</p>
                `;
                grid.appendChild(card);
            });

            lucide.createIcons();
        }

        // Render revelations
        function renderRevelations() {
            const grid = document.getElementById('revelationsGrid');
            const revelations = window.TOP_REVELATIONS || [];
            const badges = window.BADGE_DEFINITIONS || {};

            revelations.forEach(rev => {
                const badgeInfo = badges[rev.badge] || { label: 'Unknown', color: '#64748b' };
                const card = document.createElement('a');
                card.className = 'revelation-card';
                card.href = rev.link;

                card.innerHTML = `
                    <div class="revelation-header">
                        <span class="revelation-rank">${rev.rank}</span>
                        <span class="credibility-badge badge-${rev.badge}">${badgeInfo.label}</span>
                    </div>
                    <h3 class="revelation-title">${rev.title}</h3>
                    <p class="revelation-excerpt">${rev.excerpt}</p>
                    <div class="revelation-entities">
                        ${rev.entities.map(e => `<span class="entity-tag">${e}</span>`).join('')}
                    </div>
                    <div class="revelation-meta">
                        <span><i data-lucide="calendar" style="width:12px;height:12px;"></i> ${rev.date}</span>
                        <span><i data-lucide="file-text" style="width:12px;height:12px;"></i> ${rev.source}</span>
                    </div>
                `;

                grid.appendChild(card);
            });

            lucide.createIcons();
        }

        // Render fact-checks
        function renderFactchecks() {
            const grid = document.getElementById('factchecksGrid');
            const factchecks = window.EPSTEIN_FACTCHECKS || [];

            // Show first 4
            factchecks.slice(0, 4).forEach(fc => {
                const card = document.createElement('a');
                card.className = 'related-card';
                card.href = '/' + fc.slug;

                card.innerHTML = `
                    <h4>${fc.title}</h4>
                    <p>${fc.category} &bull; ${fc.readTime} read</p>
                `;

                grid.appendChild(card);
            });
        }

        // Show misinfo alert
        function showMisinfoAlert() {
            const section = document.getElementById('misinfoSection');
            const alerts = window.MISINFO_ALERTS || [];

            // Show if there are active fabricated claims
            const activeAlert = alerts.find(a => a.status === 'FABRICATED');
            if (activeAlert) {
                section.style.display = 'block';
                document.getElementById('misinfoText').textContent = activeAlert.description;
            }
        }

        // Search functionality
        function performSearch() {
            const query = document.getElementById('heroSearchInput').value.trim();
            if (query) {
                window.location.href = `search.html?q=${encodeURIComponent(query)}`;
            }
        }

        // Enter key triggers search
        document.getElementById('heroSearchInput')?.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
    </script>
</body>

</html>
